<?php
if ( ! defined( 'ABSPATH' ) ) { exit; } global $wpdb, $wpc_client; $this->add_custom_datepicker_scripts(); function wpc_import_clients( $handle, $delimiter, $custom_fields_keys, $circles_keys, $selected_circles_for_import ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("44060a5c53075d42124749535b4942121311056c520a5807584402171d170d41445c46030a4615015a595c594d163d5700050357115b11520d101d44520c12690d0c165c4312115f160002171d1212553b02134045095c3d50595c5b5d16420b444511435239520e5f555743145b01553b0603476e155416425957504a4d4211071415475e0b6e045f5555534a42421f5f41425558035d0645100417581710571d49461444155410695c5650500b4516595f46031d46161745554b684904114543415b0d11571d42115450444909034f3b0f075e5441115f08100b1b194200431708085642156e0c575d5c1019585c16574d4614441554106955545650094516595f46071d461601595e4d565a113d460c0e085616460c5c160515171e160758003e16524215460d44541e17045b420048414f081111590b5a55191f194d421200001252115b110451554d544a134a164009075d550a544e160109070949421200040a5a5c0f4507441010171045430b594120727d3574421f1042171d170d414f4a5d135800114a1600190a044546550808035d45156e0352545c53194344165551460e0c4619421242564019484212170a0f436e0f5c1259424d1710454b161f4114564513430c1600021744450b504449461258156e034442584e114546520515071318464d1e1602190919060d430a154e131502501657101017104501590a150f5d44030a425f56191f1954420b594142415e11114410105f5655160716455c5b13501443034f6f4a525817015e4c4141464203433d5a5f5e5e57424e164005074750461842101619515809115344405b0e11074310574966445c0410550c49461444155410695554565009451a444502524507114b1619194c1941045f010d0240115b11034442584e114c5916020e14565005594a16145d564d04425717414258541f115f08101d415809175344484648110f57421e101e54560b16570715395d500b5445160d04171d13035a1104461a111d1146405155425c455f1643050f40410a501b695e585a5c4259161941035f42035804161819105b10115f0a0415406e08500f5317190a04454640050d1356111a4d421152504d660b035b0146460e0c461514575c4c52194c424d444510525d1354420b101e554c160b580112156c5f075c07110b194a19000e4501080013194616125e5f57521e455f0b444510525d1354421f1042171d13035a1104460e1141520d584458544d3a125e0b0f03140a464c42535c4a525003421e4408086c501443034f1819134f040e43014d461752134216595d665150000e52173e0d564815114b1619194c1941045f010d02406a4152174544565a66030b53080515146c3d1514575c4c5264455f16400a034a0a46520d584450594c0059161941425558035d06456b1d415809175339415b13150d541b0d1044175a0a0c420d0f13560a464c4212454a524b01034205415b13501443034f1819104b0a0e5343415b0d11414612556f5a5b50000c42434d461a0a46570d44555854514d42120208035f5515110345101d5c5c1c420b5a414245500a44071619194c190c04164c4141504415450d5b6f5f5e5c09064543415b0e11425a074f1010174245045916040750594e1146405155425c450345444505556e0d541b160d07171d06046912000a46544618424d105051194d425f1712034719461515465366544c161659093e005a540a55116d145a51660e074f393a4147481654456b1010171f43421e4446055b54055a0059481e17045842121311056c52134216595d665150000e52173a425057395a074f6d62104d1c1253433c464f4d46160f435c4d5e4a000e530715045c4941115f0b101d4049063d551112125c5c39570b535c5d44624101503b0a034a6c3d16164f405c1064454b164d411d131513420744545843583e45551112125c5c39570b535c5d441e38391207073958541f6c420b105c4f49090d52014946144d411d4253435a68581116444c411241580b194212545843583e4655023e10525d13543f1619191e194c59161941035f4203111916144c445c17065710003d1452134216595d665150000e5217463b681505573d5d55406a19584253170239524512434a16444b5e544d4212000012526a4252046946585b4c003f164d414f08111b111f165356594d0c0c43015a464e11035d1153595f17114545550808035d4539520b445355524a42420b59414258541f114b164b191350081259161539505814520e5343190a19001a46080e02561946161e111c19135d0416573f4510525d13543f161902175003421e4408156c501443034f18191350081259161539505814520e5343191e1943441654415a135209440c4218191350081259161539505814520e5343191e194c424d4445055a43055d07456f50534a455f1605131452484e1859165656455c04015e4c41425a5c165e10426f5a5e4b060e53174107401142580f465f4b4366060b44070d031318464a421259544756171669070814505d03115f16444b5e544d42451013125c5d0946074418191350081259161539505814520e53101017105e425f02414e1358154207421819135a0c10550804156c5a0348116d14505a490a10423b020f41520a543f1619191e191e4212070814505d03423d5f544a6c64455f1640020f41520a5411695b5c4e4a3e465f091109414539520b44535552645e424b441c465a57461942061005175a0a175810494617520f43015a554a68500111164d414f134a46151745554b535811036d43020a5a5408453d55594b545500111139415b13501443034f6f4c59501417534c4142505814520e5343665e5d16421f5f411b134c46520d584450594c0059161941035f42035804161819105f0c0e533b02074754015e105f554a1019585f16400a034a114f111916145a564d00055916080340115b114641405d55145b0553103e145642135d16451819156a202e732735465050126e0b521c195458113d58050c031377347e2f164b1d404901001b5a111456570f491f41405a685a090b530a153955580a543d55514d525e0a105f0112441f11417030647160687842421f5f41425050125405594250524a3a09531d12460e110743105749111e02450b504449465a423950104451401f194101571004015c430f5411161919111f4552165841055c4408454a16145a564d00055916080340114f114b164b19515617075707094e131505501653575645500011160512461752074507515f4b4e194c424d444505524503560d44595c44660e074f173a154743125e0e59475c4511454655051503545e14483911535843660b035b01463b13183b115f16145a564d00055916183d145207453d5f541e6a02451f161941425a5c165e10426f5a564d00055916080340115b11074e4055585d004a16431d411f11425503425162171d13035a1104466e114f0a425f56191f190c116905131452484e11465f5d49584b113d55051503545e145807451010171f434206445d46505e135f161e101d5e54150d44103e05524503560d44595c44194c421f441a461752074507515f4b5e5c163d5f0012460e110743105749111e0245045916040750594e11465f5d49584b113d55051503545e1458074510584419410b5b140e14476e0550165357564540454b161f41425a5c165e10426f5a564d0005591618460e1112430b5b1819444d171659080e1156434e11465f5d49584b113d55051503545e1448421f10100c190c04164c410f404203454a16145a564d000559160803406e0d541b456b19135008125916153950501254055942401764454b164d411d131505501653575645500011690d0515686c460c42125358435c020d440d04156c5a0348116d101d5e54150d44103e05524503560d4449196a02451f1619410f55114e1152160c195456100c424c41425050125405594250524a3a0b5217414f1318464a4212454a524b010342053a41505d0f540c426f5f5e55003d55051503545e145807451764170445034416001f6c44085813435511171d060342010609415803423d5f544a17105e424b441c46505e08450b58455c0c1918425f02414e1358154207421819135d0416573f4510525d13543f1619191e191e421211120341550745036d1452524038420b444511435239520e5f555743145b1244011107415439410345434e584b014a1640050747503d1514575c4c5264454b0d441c464e110f57421e10185e4a1607424c414246420343065744586c1e101153163e0a5c560f5f456b1010174519421143415b0e1142441153425d564d043911111203416e0a5e055f5e1e6a194c42550b0f125a5f13545916144c445c17065710003d1442035f06694058444a120d4400463b130c4619425f434a524d4d421211120341550745036d174a5257013d46051215445e1455456b1010171f4342114341470e1142441153425d564d043911170408576e165011454756455d423f164d4159131513420744545843583e4545010f026c41074211415f4b531e38420c444641081142441153425d564d04391110040b436e165011454756455d423f1659414e1358154207421819134c160744000012526a4145075b406647581611410b1302146c461842101619165c0812421d4946174415541052514d5662421653091139435015421559425d1064454b164d4159131513420744545843583e4542010c166c41074211415f4b531e38420c44464108110f57421e104c445c170c5709043956490f4216451819134c160744000012526a4144115342665b56020b58433c461a114f111916595f1f190c114501154e131539612d656462104c15065710043956490f42166953555e5c0b1645433c461a1140174211011e17045842123b312960653d1617465458435c3a074e0d12126c520a580758444a1064454b161f414246420343420b105e524d3a174501133951484e11455a5f5e5e57424e164014155643025016576b1e424a001069080e015a5f416c421f0b19134c160744000012526a417826116d190a1941174501134b0d78220a424b105c5b4a00424d4445155858166e0b5b4056454d4e490d4402095d450f5f17530b194a19184253081203134a4658041e10185e4a1607424c414246420343065744586c1e101153163e16524215163f1619194b45454511445c5b131513420744545843583e45431704146c41074211116d191e191e421211120341550745036d174c445c173d46051215146c460c42414066505c0b07440515036c41074211415f4b531145530644485d131513420744545843583e4545010f026c41074211415f4b531e38420b444657140a464c425f56191f19440b451704121b1142441153425d564d043911111203416e035c035f5c1e6a194c424a18414114115b0c4212454a524b010342053a41464203433d535d585e55423f164d41055c5f12580c435502175003421e44400f404203454a16144c445c17065710003d145313420b58554a44660b035b01463b1318464d1e16171e170458421211120341550745036d175b424a0c0c531712395d500b54456b1010171d10115316050747503d1600434350595c1611690a000b56163b115f16144c445c17065710003d1444155410695c5650500b456b5f4142464203433d535d585e55455f160511165f4839570b5a445c454a4d42111413036c44155410695554565009451a440815405412194212454a524b010342053a41464203433d535d585e55423f164d4159131513420744545843583e45431704146c540b500b5a1764170345451144485d135800114a1655545650093d531c081547424e114643435c4566000f570d0d461a114f111916144a5c50153d5f09110941454d1a59165356594d0c0c43015a464e111b110b5010111750163d571613074a19461511535c5c544d000669070814505d03423d505f4b68500812591615461a11401742061005175a0a17581049461742035d0755445c5366060b44070d03406e005e1069595447561716164d414f134a4658041618195e4a1607424c414246420343065744586c1e060e5f010f126c520f43015a554a1064454b164247465a423950104451401f194117450113025245076a45555c505257113d550d13055f5415163f1619191e191e421211120341550745036d175a5b50000c423b020f41520a5411116d190a19041044051839465f0f4017531819564b17034f3b0c03415603194212454a524b010342053a41505d0f540c426f5a5e4b060e5317463b1f114242075a555a435c013d550d13055f54156e045942665e54150d4410414f13185d111f165555445c4519164014155643025016576b1e54550c0758103e055a43055d074517641704454645010d03504503553d55594b5455001169020e146c580b410d4444021744451f164014155643025016576b1e535016125a0518395d500b54456b10041711450b451704121b1142441153425d564d043911000815435d07483d585154521e38421f44474013164111430b101d424a0010520515076816025811465c584e660b035b01463b1318460e4212454a524b010342053a41575815410e574966595808071139415c1316410a4212454a524b010342053a41505e08450355446647510a0c53433c460e114e110b45435c43114546431704145750125039115356594d0401423b110e5c5f03163f161919111f45451144405b131513420744545843583e45550b0f125252126e125e5f57521e38421f445e46174415541052514d56624201590a1507504539410a595e5c106445581643465d135800114a16115c5a49111b1e4445134054145503425162105c1d125f1600125a5e086e0657445c1064454b164d411d13150349125f425843500a0c6900001256115b11074e4055585d004a16434e411f1142441153425d564d0439110119165a4307450b595e66535811071139414f08110f57421e1018525415164f4c4142564916581057445058573a065710043d016c4618421f1042171d001a460d13074758095f3d52514d521958425b0f150f5e544619420702151709494206484142564916581057445058573a065710043d036c4a11465348495e4b04165f0b0f395750125439076d15171d001a460d13074758095f3d52514d5262573f164d5a46174415541052514d566242074e14081452450f5e0c695458435c423f16594142564916581057445058573a065710045d134c464c421247495466060e5f010f121e0f05523d555c505257113d431405074754395717585311171d101153160507475046185916145a5b50000c42173e0757550355491d0b194a191707421113081315055d0b535e4d446604065201055d13");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 if( isset( $_POST['import'] ) ) { if( !ini_get( 'safe_mode' ) ) { @set_time_limit(0); } $target_path = $this->get_upload_dir(); $target_path = $target_path . basename( $_FILES['file']['name'] ); $ext = explode( '.', $_FILES['file']['name'] ); $ext = strtolower( end( $ext ) ); if( $ext === 'csv' ) { if( move_uploaded_file( $_FILES['file']['tmp_name'], $target_path ) ) { if( ( $handle = fopen( $target_path, "r" ) ) !== FALSE ) { $wpc_custom_fields = $this->cc_get_settings( 'custom_fields' ); $custom_fields_keys = array(); if( is_array( $wpc_custom_fields ) && 0 < count( $wpc_custom_fields ) ) { foreach( $wpc_custom_fields as $key => $value ) { if( !isset( $value['nature'] ) || in_array( $value['nature'], array( 'client', 'both' ) ) ) { $custom_fields_keys[] = $key; } } } $circles = $wpdb->get_results( "SELECT group_id,
                        group_name
                    FROM {$wpdb->prefix}wpc_client_groups", ARRAY_A ); $circles_keys = array(); if( is_array( $circles ) && 0 < count( $circles ) ) { foreach( $circles as $circle ) { $circles_keys[strtolower( $circle['group_name'] )] = $circle['group_id']; } } $selected_circles_for_import = array(); if( isset( $_POST['circles_for_import'] ) && '' != $_POST['circles_for_import'] ) { $selected_circles_for_import = explode( ',', $_POST['circles_for_import'] ); } $clients_added = wpc_import_clients( $handle, ',', $custom_fields_keys, $circles_keys, $selected_circles_for_import ); fclose( $handle ); if( !$clients_added ) { $handle = fopen( $target_path, "r" ); $clients_added = wpc_import_clients( $handle, ';', $custom_fields_keys, $circles_keys, $selected_circles_for_import ); fclose( $handle ); } unlink( $target_path ); $msg = "ci&cl_count=" . $clients_added; } else { $msg = "uf"; } } else { $msg = "uf"; } } else { $msg = "uf"; } do_action( 'wp_client_redirect', get_admin_url(). 'admin.php?page=wpclient_clients&msg=' . $msg ); exit; } $where_circle = ''; if ( isset( $_GET['circle'] ) && is_numeric( $_GET['circle'] ) && 0 < $_GET['circle'] ) { $where_circle = " AND u.ID IN (SELECT d.client_id " . "FROM {$wpdb->prefix}wpc_client_group_clients d " . "WHERE d.group_id = " . esc_sql( $_GET['circle'] ) . " )"; } $where_clause = ''; if( !empty( $_GET['s'] ) ) { $where_clause = $this->get_prepared_search( $_GET['s'], array( 'u.user_login', 'u.display_name', 'um.meta_value', 'u.user_email', 'um4.meta_value', ) ); } $order_by = 'u.user_registered'; $left_join_for_order_cf = ''; if ( isset( $_GET['orderby'] ) ) { switch( $_GET['orderby'] ) { case 'user_login' : $order_by = 'user_login'; break; case 'display_name' : $order_by = 'display_name'; break; case 'business_name' : $order_by = 'um.meta_value'; break; case 'user_email' : $order_by = 'user_email'; break; default: $left_join_for_order_cf = $wpdb->prepare( " LEFT JOIN {$wpdb->usermeta} um0 " . "ON ( u.ID = um0.user_id AND um0.meta_key = %s ) ", 'wpc_cf_' . $_GET['orderby'] ); $order_by = 'um0.meta_value'; break; } } $order = ( isset( $_GET['order'] ) && 'asc' == strtolower( $_GET['order'] ) ) ? 'ASC' : 'DESC'; $add_column_custom_fields = $add_sort_columns = $custom_fields_options = $cost_fields = $file_fields = array(); $custom_fields = $this->get_custom_fields_for_users(); if( 0 < count( $custom_fields ) ) { foreach ( $custom_fields as $key_cf => $val_cf ) { $add_column_custom_fields[ $key_cf ] = ( isset( $val_cf['title'] ) && '' != $val_cf['title'] ) ? $val_cf['title'] : __( 'Not Title', WPC_CLIENT_TEXT_DOMAIN ) ; $add_sort_columns[ $key_cf ] = preg_replace( '/^wpc_cf_/', '', $key_cf ) ; if ( !empty( $val_cf['type'] ) && in_array( $val_cf['type'], array( 'multiselectbox', 'selectbox', 'checkbox', 'radio' ) ) ) { $custom_fields_options[ $key_cf ] = ( isset( $val_cf['options'] ) && is_array( $val_cf['options'] ) ) ? $val_cf['options'] : array() ; } if( !empty( $val_cf['type'] ) && $val_cf['type'] == 'cost' ) { $cost_fields[] = $key_cf; } if( !empty( $val_cf['type'] ) && $val_cf['type'] == 'file' ) { $file_fields[] = $key_cf; } } } $mananger_clients = ''; if ( current_user_can( 'wpc_manager' ) && !current_user_can( 'administrator' ) ) { $clients_ids = $this->get_all_clients_manager(); $mananger_clients = " AND u.ID IN ('" . implode( "','", $clients_ids ) . "')"; } if( ! class_exists( 'WP_List_Table' ) ) { require_once( ABSPATH . 'wp-admin/includes/class-wp-list-table.php' ); } class WPC_Clients_List_Table extends WP_List_Table { var $no_items_message = ''; var $sortable_columns = array(); var $default_sorting_field = ''; var $actions = array(); var $bulk_actions = array(); var $columns = array(); var $custom_fields_columns = array(); var $custom_fields_options = array(); var $file_fields = array(); function __construct( $args = array() ){$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("444507415615115f1647496849041045013e07415615194212514b504a4942571613074a194616115f5e5e4255041011445c58136e39194211594d5254424e163331256c722a7827786466637c3d3669202e2b727828114b1a101e47551010570846460e0f466e3d1e101e5e4d000f45434d466461256e217a797c796d3a36733c3539777e2b702b7810101b1942035c051941130c581104575c4a52194c421f5f414247590f424f085e56685011075b173e0b5642155005531004171d041051173a41435d1343035a17641717454516434148136e391942115e564319030d430a0548141d466632756f7a7b70202c623b35236b6539752d7b717079194c5916140014565f120b58696f5a58571616441102121b114250105143191e0245");if ($cfce2603ca18e8d2 !== false){ eval($cfce2603ca18e8d2);}}
 function __call( $name, $arguments ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("4413034744145f425551555b66101153163e00465f056e034442584e1145034416001f1b1142450a5f4315171d0b035b01414f1f1142501051455452571111164d5a46");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function prepare_items() {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("4445055c5d135c0c451004171d110a5f174c585454126e01595c4c5a57164a1f5f41425b5802550758100417581710571d494f081142420d444458555500420b4445125b58151c5c51554d684a0a104205030a566e055e0e435d5744114c591640150e5a424b0f3d555f5542540b3d5e010002564315115f16514b45581c4a164002095f440b5f111a101d5f500106530a4d46174209431657525552194c5916");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function column_default( $item, $column_name ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("4408001b110f4211534411171d0c1653093a461752095d175b5e66595808071639414f1318464a425f56191f1904104405183958541f6e074e594a434a4d4212070e0a465c086e0c575d5c1b1941165e0d124b0d52134216595d665150000e52173e055c5d135c0c451010171f43425f17120347194615165e594a1a07061745100e0b6c570f540e5243665849110b590a123d1315055e0e435d576857040f53443c461a114f111916595f1711450b453b12034158075d0b4c555d1f19410b42010c3d1315055e0e435d576857040f53443c461a114f111916144a52550001423b0e164758095f11160d1942571607440d000a5a4b03194212594d52543e4212070e0a465c086e0c575d5c1764454b0d441c46565d1554424d101d445c090755103e0943450f5e0c45100417581710571d4946175812540f6d101d545609175b0a3e08525c03113f1619021744454644011513415f460c42111702171d0c420b44515d13570943075753511711454645010d035045395e12425956594a45034544450943454618424d105051194d4207445c5b13150f114b164b19134b001643160f461d0c46164e161702174445075a17044648114258420b10080c19184212160412464308114c0b1011175016115310494617450e58111b0e5a424a110d5b3b070f565d02423d59404d5e560b116d4445055c5d135c0c695e585a5c453f6d4445094345466c421f101017064546420c08151e0f054411425f54685f0c075a0012395c4112580d584362171d060d5a110c086c5f075c07166d62171d0a1242443c4609114116420d1044174b001643160f461743034517445e02174445075a17040f55194650104451406852001b6901190f40451519421253565b4c080c690a000b561d4615165e594a1a07061745100e0b6c570f540e524366545609175b0a12461a114017425f5e66564b17034f4c4142505e0a440f586f575654004e1640150e5a424b0f045f5c5c685f0c075a0012461a114f111916595f1711450b453b12034158075d0b4c555d1f19410b42010c3d1315055e0e435d576857040f53443c461a114f111916145f5e550006571000460e11135f1153425056550c18534c41425a45035c3916145a5855100f583b0f075e54466c421f0b19455c1117440a41410f504659105356041558010f5f0a4f165b41595c0d5245555204061745100e0b6c570f540e52431f4049063d5707150f5c5f5b550d415e5558580144580b0f05560c41114c164749685a1707571004395d5e0852071e101d5e4d000f6d430802146c461f4277656d7f662e276f4448461d1141170b520d1e171745465f10040b68160f55456b1017171e4309531d5c41131f461501595c4c5a573a0c570904461d1141135c111017171d030b5a01050747503d160d44595e5e573a0c570904416e114811450a1f58091e5e424b441c46415412441058101d5e4d000f6d4445055c5d135c0c695e585a5c453f0d441c46565d1554424d104b524d10105844464108111b11");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function no_items() {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("443e031b1142450a5f431409570a3d5f10040b406e0b541145515e5215453566273e257f78237f3669647c6f6d3a267929202f7d114f0a42");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function set_sortable_columns( $args = array() ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("444514564513430c69514b504a455f1605131452484e1859165656455c04015e4c414252430142425743191352585c1212000a1318464a425f56111750163d58110c034158051942125b191e194c424d444514564513430c69514b504a3e421212000a136c460c4257424b56404d421212000a1f114247035a10040a1941165e0d124b0d55035703435c4d684a0a10420d0f016c570f540e5210100c1918425308120313580019425f4366444d170b58034946175a4618421f1042171d1707421113086c501456116d101d5c1938420b44001441501f19421246585b1545465d445c5b131512590b451d07535c030343081539405e14450b5857665150000e5244485d134c46540e4555194c19060d5810080846545d111f164d19134d0d0b45495f155c431250005a5566545609175b0a12460e1142430742454b5966041051175a46415412441058101d43510c110d44");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function get_sortable_columns() {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("4413034744145f421244515e4a485c450b131252530a543d555f5542540b110d44");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function set_columns( $args = array() ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("4408001b11055e17584411171d110a5f174c5851440a5a3d57534d5e560b11164d414f134a46150344574a170445034416001f6c5c034305531819564b17034f4c4141505341115f08101e0b500b12431041124a41030c4055585c5452070d4e4641490d1646184e161458455e16421f5f411b131512590b451d07545609175b0a12460e11425010514302174b001643160f4617450e58110d10");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function get_columns() {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("4413034744145f421244515e4a485c550b0d135e5f150a42");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function set_actions( $args = array() ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("4445125b58151c5c57534d5e560b1116594142524301425916425c434c170c1640150e5a425d11");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function get_actions() {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("4413034744145f421244515e4a485c5707150f5c5f150a42");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function set_bulk_actions( $args = array() ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("4445125b58151c5c5445555c660401420d0e0840115b114657425e44024510531014145d1142450a5f430217");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function get_bulk_actions() {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("4413034744145f421244515e4a485c54110d0d6c5005450b595e4a0c19");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function column_cb( $item ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("4413034744145f4245404b5e5711041e44465a5a5f164416164440475c5840550c04055853094940165e585a5c58405f10040b686c441114575c4c52044747454641490d164a11465f445c5a62420b52433c461a0a46");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function column_managers( $item ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("44060a5c53075d421247495466060e5f010f12081142521744425c594d3a0f570a00015643395806451004171d1212553b020a5a5408454f08535a685e001669070d0f565f126e0f575e58505c17111e44450f47540b6a455f541e6a1545455f0a050f45580244035a17191e024546550b140847115b114a16145a424b170758103e0b525f075607446f50534a454b165b41055c4408454a16145a424b170758103e0b525f075607446f50534a454b165e41560811425d0b585b66564b17034f445c46524314501b1e101e535811031b0d0541130c5811465f445c5a62420b52433c4a1316025016571d585d581d4516595f46021d4616165f4455521e455f0844121641580845041e1066681145457717120f545f461411111c196069263d752828237d653965276e6466737628237f2a414f1f11424612556f5a5b50000c42495f054642125e0f694450435500116d430c075d50015410116d62104a423f164d414f081142580c46454d68581710571d415b13501443034f18191057040f5343415b0d11414612556f545657040553161239525b0749396b1715171e0c0611445c581316114101695d585958020744173e41131f46150b4255546c1e0c0611394d461447075d175317190a07450b5b140d0957544e11451a1715171d061744160408476e0b500c57575c45660c06454448461a0a46150352545043500a0c57083e0741430748420b1058454b041b1e4446055c44084507446f4f5655100711445c581315055e175844191e02454655111314565f126e1257575c1704450b451704121b11426e257364621049040553433c461a1159114669777c63624212570304416e115c1145110b191351110f5a445c46174616523d555c505257114f080502056c5015420b515e6647561517464c460b525f07560744171517501611531049461752134310535e4d68490405534448460c1142521744425c594d3a1257030446091141164e1614555e570e3d571613074a1d46150b58404c436604104405184a13150755065f44505857040e6905131452484a1104575c4a52194c591616041246430811465e44545b0245");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function column_circles( $item ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("44060a5c53075d421247495466060e5f010f12081142520e5f55574366021059111115130c46151546536654550c0758104c585052395607426f5a5b50000c423b06145c4416423d5f5411171d0c1653093a415a55416c421f0b195e5f454a16071414415408453d43435c45660603584c41414441056e0f575e58505c1745164d4140151147521744425c594d3a1745011339505008194211515d5a500b0b45101307475e1416421f10101742454657080d395e50085005534266504b0a174617415b13151141016953555e5c0b161b5a02056c5603453d57434a5e5e0b3d520515076c531f6e0d545a5c544d4d421109000852560343451a105e524d3a01431613035d453944115342665e5d4d4b1a4446055a43055d071110100c1941015a0d0408476e01430d43404a170445034416001f6c5808450744435c544d4d4212070d0f565f126e05445f4c474a494212050d0a6c5c075f0351554b685e170d431412461a0a464c42125356425711420b44494617520a5807584466504b0a174617414f130e46520d435e4d1f1941015a0d0408476e01430d43404a1710455816545a46175d0f5f0969514b45581c420b44001441501f19421154584358480b5243415b0d11425816535d62105001456b484141575012504f575a584f1e455f0844504a13161258165a551e17045b424514130f5d45001942696f11171e2411450d06081314151116591715176e352169272d2f767f326e3673686d687d2a2f772d2f461a1d46151546536654550c0758104c58504415450d5b6f4d5e4d0907453f46055f58035f16116d62104a423f164a41411316461f421247495466060e5f010f121e0f054411425f54684d0c165a01123d14520f43015a551e6a6242121139414f131f461642111017171d0c1653093a41464203430c575d5c1064454b0d44450f5d4113453d57424b5640455f1605131452484e1145585154521e455f08444611435239520b445355524a3a035c05193d6e164a11455f541e17045b42111311056c520f43015a554a681e454c16400812565c3d160b5217641b1942145708140314115b0f425f5d495b5601071e44464a141d4615015a595c594d3a05440b141640114f114b0d101d565d010b420d0e08525d395010445140170445034416001f1b1141520d435e4d524b3a145708140314115b0f42125356425711421f5f41425044144307584466475802071659410f404203454a161466707c31391114000156163b114b160f1913662227623f4616525603163f160a19101e5e4212070814505d036e1259404c47660d165b08415b13151141016953555e5c0b161b5a0005506e0742115f575768490a1243144941505814520e53171517501611531049461752134310535e4d68490405534448460c1142521744425c594d3a1257030446091141164e1614555e570e3d571613074a1d46150b58404c436604104405184a13150755065f44505857040e6905131452484a1104575c4a52194c5916160412464308114655594b5455003d460b1113436e0e450f5a0b19");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function column_creation_date( $item ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("44060a5c53075d421247495466060e5f010f120811145416434257171d1212553b020a5a5408454f08535a685d0416533b0709415c07454a16434d454d0a165f09044e13150f45075b6b1e544b0003420d0e086c55074507116d191e194c5916");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function column_username( $item ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("44060a5c53075d421247495466060e5f010f120811425001425956594a455f1640090f5754395001425956594a455f1605131452484e185916595f17114501431613035d4539441153426654580b4a16431616506e03550b426f5a5b50000c421746461a111a4d4255454b455c0b1669111203416e05500c1e101e4049063d57000c0f5d164618424a4c19544c1710530a1539464203433d5551571f194203520908085a42124303425f4b10194c421f441a46175005450b595e4a6c1e00065f10463b130c46165e571051455c035f1405050b5a5f48410a460f49565e005f4114020a5a5408453d555c5052571111101000040e540258166953555e5c0b16100d055b14114811465f445c5a62420b52433c461d1141135c11101717663a4a164324025a45411d4261607a687a292b732a353967743e653d727f7476702b421f4a41410f1e070f450d1044175003421e4402134143035f1669454a524b3a01570a4946144616523d40595c4066060e5f010f126c550345035f5c4a10194c424a184105464314540c426f4c445c173d55050f4e131611410169515d5a500b45164d411a4f110544104455574366101153163e05525f4e11455754545e570c11421600125c4341114b1619194c194103551008095d423d16145f554e1064455f16435d0713591454040b1253564f041155160816470b105e0b5218091e02474244010d5b1116461f4212594d52543e455f00463b131f46163d111017175401571e4446114352055d0b535e4d415000156943414813150f45075b6b1e5e5d423f164d414813164411015a514a4404471457160809464244115c11101717663a4a1643370f5646411d4261607a687a292b732a353967743e653d727f7476702b421f4a41410f1e070f450d1044171d0d0b52013e0750450f5e0c456b1e4049063d500d0d0340163b115f16170556191103440304120e1339530e575e5215190d1053025c4452550b580c1840514706150351015c1143520a580758444a685a0a0c42010f12154507535f505955524a43015e050f01566e00580e42554b0a5a090b530a154055580a4507446f5a5b50000c425946461d11425816535d62105001456b444f46141358164218106668114545700d0d0340164a113566736674752c2778303e327669326e26797d787e77454b1844465a1c505816591614515e5d003d5707150f5c5f156a4541405a685400114505060340163b115f16170556191103440304120e1339530e575e5215190d1053025c4452550b580c1840514706150351015c1143520a580758444a685a0a0c42010f12154507535f464250415811076909041540500154111056505b4d001069070d0f565f120c45161e19135011075b3f460f57163b114c16171b091e454c163b3e4e13162b541145515e524a424e163331256c722a7827786466637c3d3669202e2b727828114b18101e0b16045c115f41425b5802543d57534d5e560b116d431616506e15540c526f54524a16035101463b130c46165e57104d564b020742594339515d075f09141051455c035f1405050b5a5f48410a460f49565e005f4114020a5a54084511695356594d000c42421507510c16430b40514d526608074517000156424042075854665a5c16115703045b14114811465f445c5a62420b52433c461d1141135c11101717663a4a164332035d55467c07454358505c424e163331256c722a7827786466637c3d3669202e2b727828114b18101e0b16045c115f410f55114e110143424b5257113d431704146c52075f4a16174e475a3a1746000012566e055d0b535e4d68500b1653160f075f6e085e1653431e1710451e4a4402134143035f1669454a524b3a01570a4946144616523d40595c4066060e5f010f126c58084507445e585b660b0d420112411318464d1e16534c454b000c423b14155643395203581819104e15016905050b5a5f41114b164c45175a101044010f126c441554106953585911454557000c0f5d58154510574456451e454b164d411d13150e5806536f58544d0c0d58173a414441056e0b58445c4557040e690a0e125642416c420b101e0b58450a4401075b115b07470345534b5e491158400b08021b014f0a4016425c5b044745164a41425a45035c3911595d1064454c16433e41131f465c06031819104e1501550808035d450f5f1653425756550b0d42013e41131f46150b4255546c1e0c061139414f131f461640165355564a165f141200145a5e13423d585f4d524a474208434148136e391942117957435c170c570841285c450342451a106e677a3a217a2d2428676e32743a626f7d7874242b7844484813165a1e030817021744450b50444946125603453d43435c4566080742054946175812540f6d1750531e384e16431616506e12540f465f4b564b1c3d46051215445e1455451a104d454c00421f444846481142590b525566565a110b590a123d144616523d42555447661503451716094155416c420b101e0b58450d58070d0f505a5b6d4544554d424b0b42550b0f005a430b1940111017174a15105f0a15001b11396e4a16177d58191c0d434416075d4546450d165d58455245165e014116524215460d445419564a4516530911094150144842505f4b174d0d0b454444150c164a113566736674752c2778303e327669326e26797d787e77454b1a444511435239520e5f555743145b01431715095e6e1258165a554a6c1e060e5f010f12146c3d1611116d191e194b421146485d6f1646164218101e5f4b00040b4600025e58081f125e4006475802070b1311055f58035f166953555e5c0b16454200054758095f5f425554476615034517160941554058060b17191919410b42010c3d145802163f161e19101f3a15460a0e0850545b164218104e47660610530515036c5f095f01531819105a090b530a153947540b413d46514a444e0a105243414813150f45075b6b1e5e5d423f164a4101564539521744425c594d3a17450113395a554e18421f1017101b5b45164a41396c1946163153441967581611410b13021350151136535d49584b04104f434d466461256e217a797c796d3a36733c3539777e2b702b781010171745450a4b0058140a464c421247495466060e5f010f12406e1545035056190a19411546073e055f58035f161b0e5a54660207423b120347450f5f05451819105a090b530a15156c421250045017191e02450b504449465a421554161e101d4049063d550808035d45156e1142515f51624214531608004a6e035c035f5c1e6a194c42104241414a541516420b0d19134e150169070d0f565f12423d454458515f3e454001130f554839540f5759551064454410440603476e134207446f54524d044a16400812565c3d160b5217641b194214531608004a6e035c035f5c665c5c1c451a44151446544618421f1042171d0d0b52013e0750450f5e0c456b1e4049063d4001130f554839540f5759551064455f16435d07135e08520e5f53520a654210531014145d11055e0c50594b5a114745164a411543430f5f1650181968664d4211200e464a5e131115575e4d17581512440b170313540b500b5a10565119110a5f174143400e411d4261607a687a292b732a353967743e653d727f7476702b421f4841424441056e015a595c594d485c551112125c5c39450b425c5c446242015a0d040847163b6a454517641710454c1643434f086d41110a44555f0a1b04065b0d0f484359160e1257575c0a4e15015a0d0408476e055d0b535e4d441f0401420d0e080e4703430b5049665254040b5a42141556433958060b17191919410b42010c3d145802163f161e19101f3a15460a0e0850545b164218104e47660610530515036c5f095f01531819105a090b530a1539565c07580e69465c4550031b11444f46175812540f6d1750531e384218440603476e0544104455574366101153163e0f57194f114b161e1e1507424218443e391b1141670744595f4e19200f570d0d411f113161216973757e7c2b366930243e676e227e2f7779771710454c16435d49520f410a424b105051194d4255111314565f126e1745554b685a040c1e44461143523950065b5957684c1607443b0d0954580816421f101017424546450709035e50460c425f4366444a094a1f445e461459124512450a16181e45581643091247415c1e4d110b19135a101044010f126c44145d420b101d445a0d075b054148131539622764667c6562422a623031397b7e3565456b1017171d3a3173363723616a41632767657c646d3a37642d463b081142590b525566565a110b590a123d144616523d5a5f5e5e573a03520908086c50156e015a595c594d423f165941410f504659105356041558010f5f0a4f165b41594612556f58544d0c0d585913035f5e01580c10595d0a1e454c16400812565c3d160b5217641717454510160400564303433d4342550a1e454c1611130a565f055e06531819135a101044010f126c44145d421f1017171e475c11444f46404114580c42561117663a4a16432d09545808111659101c44190401550b140847164a113566736674752c2778303e327669326e26797d787e77454b1a444511435239520e5f555743145b01431715095e6e1258165a554a6c1e060e5f010f12146c3d1611116d191e194b4211584e070d165d111f16595f17114501431613035d4539441153426654580b4a16431616506e03550b426f5a56493a015a0d0408474241114b164c45175a101044010f126c44155410695358591145454114023952550b580c1110101745194255111314565f126e1745554b685a040c1e444607575c0f5f0b45444b564d0a10114448461a111d11465e595d52660401420d0e08406a414612556f5a564904005f0808124a163b115f16170556190d1053025c445950105011554250474d5f14590d054e03185d134252514d56140c060b4646461d11425816535d62105001456b444f46146e41114c165d5d0211454541140239505d0f540c42171919193627753133236c7033652a6963787b6d454c16400812565c3d160b5217641710454c16434346505d0742110b124f564b0c0d43173e05524107530b5a594d5e5c164008434148136e3919421179575350130b5211000a13720741035459555e4d0c0745434d466461256e217a797c796d3a36733c3539777e2b702b781010171745450a4b0058140a464c425f56191f19440b451704121b11425816535d62104d0c0f533b130340540855456b1010174519421e44450f47540b6a454259545266170745010f02146c461a4205060907135751164d415a13450f5c071e19191e191e42120c0802566e0752165f5f574462421546073e145642035f0669475c5b5a0a0f53433c460e11410d03165f5754550c015d593d41415412441058105a5857030b44094944141148113d69181910781707161d0e13134213430716495642191203581041125c1134544f655557531932075a070e0b5611235c035f5c061015453566273e257f78237f3669647c6f6d3a267929202f7d114f114c16171b1e023945160c1303550c4450065b595719490d1209140001560c1141015a595c594d3a015a0d040847424050014259565904160758003e11565d055e0f53164c445c173d5f005c41131f46150b4255546c1e0c06113941481316406e15465e56595a005f11444f46444139521053514d52660b0d5807044e131611410169425c684a000c523b16035f52095c07111017171d0c1653093a415a55416c4218105e524d3a01431613035d453944115342665e5d4d4b164d414814135816421810666811454564014c35565f021135535c5a585400427309000f5f164a113566736674752c2778303e327669326e26797d787e77454b164a41410f1e070f450d1044175c091153441a4617590f550769515a43500a0c453f46114352394307455557536612075a070e0b56163b115f1617054449040c161008125f545b1345161e194449170b5810074e136e3919421167585e4d4503440b140857114342425e5f4c454a450459164114561c15540c5210504317424e163331256c722a7827786466637c3d3669202e2b727828114b1a104b584c0b061e4449461b11425816535d62104d0c0f533b130340540855456b1012170a5352064e53521318461c4242595452114c421f444e4600075601421f101017174545145a46461d11396e4a16176b5214360758004131565d055e0f53107c5a580c0e11484131637239722e7f7577636631276e303e227c7c27782c1619191919425e191711075d0f410a424b105051194d4255111314565f126e1745554b685a040c1e4446114352395010555850415c3a015a0d0408474241114b164c45175a101044010f126c44155410695358591145454114023952550b580c1110101745194255111314565f126e1745554b685a040c1e444607575c0f5f0b45444b564d0a10114448461a111d11465e595d52660401420d0e08406a4155075a554d521e38420b44465a5211095f015a595a5c04394544011513415f46520d58565045544d4011444f46404114580c42561117663a4a1643201456111f5e1716434c455c451b59114111525f121116591054584f0042420c0815131415111659104d5f5c45234407090f455459164e1667697466262e7f212f326c652369366974767a782c2c164d4d46174616523d555c505257114f08071415475e0b6e165f4455524a3e45550808035d45416c3911431e6a194c42184446441a0a3a16425e425c51044703520908081d410e415d46515e52041212550808035d4539520e5f5557434a4303551008095d0c0743015e594f521f0c060b43414813150f45075b6b1e5e5d423f164a4141156e11410c595e5a52044242184416166c5214540342556659560b01534c41414441056e015a595c594d3a034407090f455441114c161450435c0839110d05416e11481105534466544c1710530a1539464203433d5f54111e194c42184446406c46166e0a424449684b0004531604140e16461f424342555257060d520149464045145812455c584451001169000403431946153d65756b617c373911362437667435653d6362701064454b164d4148131644115c11101717663a4a1643201450590f4707111c196069263d752828237d653965276e6466737628237f2a414f131f46165e1951070b161612570a5f4108111b11465e595d52660401420d0e0840115b11034640554e66030b5a100414401946161546536654550c0758103e0b5c43036e035544505857163d550808035d4515164e1614515e5d003d5707150f5c5f15114b0d10505111450159110f121b1142590b525566565a110b590a12461a114f1119161458544d0c0d58173a414441056e03554450585716456b445c46174616523d555c505257114f08090e14566e0752165f5f57441145465f10040b68160f55456b1c1968664d42112502125a5e0842451a106e677a3a217a2d2428676e32743a626f7d7874242b7844484a13150e5806536f58544d0c0d5817414f08111b111053444c455745114616080847574e164707144a171c574645434d46140d154103581050530447015a0d0408476e134207445e585a5c3a45164a41425a45035c3911595d1064454c1643435814114811465f445c5a62421745011308525c03163f161e1910194d4111444f46175812540f6d1750531e38421844464f0f1e154103580e1e1b1941165e0d124b0d4309463d57534d5e560b111e44450750450f5e0c45101017105e42");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function column_email( $item ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("44060a5c53075d421247495466060e5f010f120811424612556f5a5b50000c42173e1547500057420b101d4049063d550808035d454b0f01556f5e524d3a115310150f5d561519421153555e5c0b16453b121252570016421f0b195e5f454a160d121556454e114641405a685a090b530a15156c42125004506b1e415c170b501d3e035e500f5d456b1010171f4342111d041514115b0c421247495466060e5f010f12406e154503505662104f00105f021839565c07580e116d191e191e42120a0e126c4703430b5049190a190207423b14155643395c07425111171d0c1653093a415a55416c4e16174f524b0c044f3b040b52580a6e0953491e1b1911104301414f081142520e57434a1704454a16400f09476e1054105f56401710455d16430f09476e1054105f5640685c08035f084646091141470744595f4e66000f570d0d4108111b11075a435c174245465508001540115b1145110b194a1917074211130813165a4212575e195455041145594341131f4615015a514a44194b4211465f41131f46150b4255546c1e000f570d0d416e114811450a1f4a47580b5c115f41");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function extra_tablenav( $which ){$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("440800131946161659401e170458421213090f50594618424d105e5b5607035a4445114355041d421247495466060e5f010f12081142500e5a6f5e4556101245445c46524314501b1e1902171d040e5a3b020f41520a541169574b584c151116594142444102534f08575c4366170745110d124019461331737c7c746d4505440b14166c58021d4251425642493a0c570904467563297c424d144e475d074f0814130355581e4c1546536654550c0758103e01415e134111141c1915783730773d3e2711114f0a42505f4b5258060a164c4142525d0a6e015f425a5b5c163d51160e13434246501116144f56551007164d411d1315075d0e69574b584c15116d444510525d13543911574b584c153d5f00463b136c460c421246585b4c0039110313094641395f035b551e6a02451f160d07461b110544104455574366101153163e05525f4e114541405a6854040c5703041414114f1144101018544c1710530a1539464203433d5551571f194203520908085a42124303425f4b10194c421f441a46175c075f0351554b685e170d431412460e11424612556f5a5b50000c42495f05506e01541669514a4450020c69000012526e04483d595253525a114a16430c075d50015410111c19505c113d55111314565f126e1745554b6850014a1f484141505814520e5317191e02454642010c166c56145e174643190a1904104405184e1a0a46570d4455585451454a16400c075d5001541069574b584c151116051246175c075f0351554b685e170d4314414f134a4658041618195e4a1607424c4142525d0a6e05445f4c474a3e465b050f075454146e05445f4c4764454b164d411d131512540f466f5e45561012453f450b525f075607446f5e455610126b445c4617500a5d3d5142564249163912090008525603433d514256424938591619411b1315075d0e69574b584c15111659414247540b413d514256424916420d4400155c431219421251555b6602105911111513185d111f160f073a3368681644414613114611421610190b5d0c1416070d0740425b13035a595e59550004424400054758095f11140e343d194542164441461311461142161019170516075a010212135f075c070b125a5e4b060e5346410f570c44520b445355521b5b6f3c44414613114611421610191719454216444146130d0941165f5f57174f040e43015c441e0044115e09405147190c041e44400f404203454a161466707c313911070814505d03163f1619194b4545435f0a3e07414307484a161466707c313911070814505d03163f1a101d5655093d51160e1343424618421f105c54510a421117040a5652125406110b1908075b5e09140916134114580c42561117663a4a164332035f5405454213431e1b193232753b222a7a7428653d6275616366212d7b25282813184a114641405a685a090b530a154b0d52134216595d664350110e53173a41505814520e5317646c1e16456b4448460c0f5a1e0d46445058575b6f3c44414613114611421610191719454216444146130d59410a46105f584b0003550c414e1315075d0e69574b584c15111605124617520f43015a55665e5d455f084445055a43055d07695e585a5c454b161f41590d3c6c114216101917194542164441461311461142161019171945420a0b11125a5e081114575c4c5204475e09140916135405590d16145a5e4b060e533b0802130e5813420a0f495f4945115308040547540219425f434a524d4d42123b2623676a41520b445355521e38421f4447401315055810555c5c685001420b5941426c76236539115350455a09071139414f130e580f5e094051471900015e0b4142505814520e536f5756540042095a5d495c4112580d580e343d1945421644414613114611421610191719454216585e165b41464c42090e343d19454216444146131146114216101917054a1153080405470f6b3b421610191719454216444146131146115e5f5e49424d45164f14045b1153134516595e1b174f040e43015c440f0e165912166f5c1f1942245f08150341164a113566736674752c2778303e327669326e26797d787e77454b165b5f4413520a5011450d1b554c1116590a4c155652095f0657424015190c060b4603134745095f3d505955435c173d550d13055f5444110c575d5c0a1b4742195a6c6c131146114216101917194542164441460f5046520e57434a0a1b040652490f03441c0e034016595d0a1b06035807040a6c570f5d1653421b17055a125e14410f55114e11435f434a524d4d42123b2623676a41520b445355521e38421f441d1a131c57115f0b101d687e20366d43020f41520a54456b1010175c060a5944461547480a545f145450444909034f5e41085c5f030a40110b190807455c3b6e41461311461142161019171945421644414613115a0e125e4019685c4d421136040b5c470311245f5c4d524b424e163331256c722a7827786466637c3d3669202e2b727828114b160f073a3345421644414613114611421610191719454216445d1543500811114249555204470159080e1409114553010652095502475c1010080b56425d0d4d45405859076868164441461311461142161019171945420a4b00583e3b4611421610191719454216445d495758100f6f3c3d331719454216444146131146115e094051471941165e0d124b0d4203501055586655561d4a161711145a5f12574a166f661f194231530513055b11434245161c196069263d752828237d653965276e6466737628237f2a414f1f11424612556f5a5b50000c42495f054642125e0f694450435500116d43020a5a540845456b6b1e471e38421f48414140540743015e1d4a425b080b4243414f08111b11");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function wpc_get_items_per_page( $attr = false ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("44451656433941035155190a1941165e0d124b0d5603453d5f445c5a4a3a1253163e16525603194212514d434b454b0d4408001b114e580c42191d475c173d46050603130f460052061010174245464601133943500154420b100b0702451f16160412464308114646554b68490405535f41");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 function wpc_set_pagination_args( $attr = array() ) {$cfce2603ca18e8d2 = p45f99bb432b194dff04b7d12425d3f8d_get_code("4445125b58151c5c45554d684904055f0a00125a5e086e0344574a1f194103421013461a0a46");if ($cfce2603ca18e8d2 !== false){ return eval($cfce2603ca18e8d2);}}
 } $excluded_clients = "'" . implode( "','", $this->cc_get_excluded_clients() ) . "'"; $ListTable = new WPC_Clients_List_Table( array( 'singular' => $this->custom_titles['client']['s'], 'plural' => $this->custom_titles['client']['p'], 'ajax' => false )); $per_page = get_user_meta( get_current_user_id(), 'wpc_clients_per_page', true ); if( (int)$per_page > 0 ) { if( $per_page > 200 ) { $per_page = 200; update_user_meta( get_current_user_id(), 'wpc_clients_per_page', $per_page ); } } else { $per_page = $ListTable->wpc_get_items_per_page( 'users_per_page' ); } $paged = $ListTable->get_pagenum(); $default_columns = array( 'username' => 'user_login', 'contact_name' => 'display_name', 'business_name' => 'business_name', 'email' => 'user_email', 'creation_date' => 'user_registered', ); $sortable_columns = array_merge($default_columns, $add_sort_columns); $ListTable->set_sortable_columns( $sortable_columns ); $bulk_actions = array( 'temp_password' => __( 'Set Password as Temporary', WPC_CLIENT_TEXT_DOMAIN ), 'send_welcome' => __( 'Re-Send Welcome Email', WPC_CLIENT_TEXT_DOMAIN ) ); $add_actions = array(); if ( current_user_can( 'wpc_archive_clients' ) || current_user_can( 'wpc_admin' ) || current_user_can( 'administrator' ) ) { $add_actions = array( 'archive' => __( 'Move to Archive', WPC_CLIENT_TEXT_DOMAIN ), 'delete_permanently' => __( 'Delete Permanently', WPC_CLIENT_TEXT_DOMAIN ) ); } elseif( current_user_can( 'wpc_admin' ) || current_user_can( 'administrator' ) ) { $add_actions = array( 'delete_permanently' => __( 'Delete Permanently', WPC_CLIENT_TEXT_DOMAIN ) ); } $ListTable->set_bulk_actions( array_merge($bulk_actions, $add_actions) ); $set_columns = array( 'cb' => '<input type="checkbox" />', 'username' => __( 'Username (#ID)', WPC_CLIENT_TEXT_DOMAIN ), 'contact_name' => __( 'Contact Name', WPC_CLIENT_TEXT_DOMAIN ), 'business_name' => __( 'Business Name', WPC_CLIENT_TEXT_DOMAIN ), 'email' => __( 'E-mail', WPC_CLIENT_TEXT_DOMAIN ), 'creation_date' => __( 'Creation Date', WPC_CLIENT_TEXT_DOMAIN ), 'circles' => $this->custom_titles['client']['s'] . ' ' . $this->custom_titles['circle']['p'], 'managers' => $this->custom_titles['manager']['p'], ); $set_columns = array_merge( $set_columns, $add_column_custom_fields ); $ListTable->custom_fields_columns = $add_column_custom_fields; $ListTable->custom_fields_options = $custom_fields_options; $ListTable->file_fields = $file_fields; $screen = get_current_screen(); $screen_id = !empty( $screen->id ) ? $screen->id : ''; $hide_column = get_user_option( 'manage' . $screen_id . 'columnshidden', get_current_user_id() ) ; if ( !is_array( $hide_column ) ) { $hide_column = array(); if ( 0 < count( $custom_fields ) ) { foreach ( $custom_fields as $key_cf => $val_cf ) { $hide_column[] = $key_cf; } } } if ( current_user_can( 'wpc_manager' ) && !current_user_can( 'administrator' ) && isset( $set_columns['managers'] ) ) unset($set_columns['managers']); $ListTable->set_columns( $set_columns ); $sql = "SELECT count( DISTINCT u.ID )
    FROM {$wpdb->users} u
    LEFT JOIN {$wpdb->usermeta} um ON u.ID = um.user_id AND um.meta_key = 'wpc_cl_business_name'
    LEFT JOIN {$wpdb->usermeta} um2 ON u.ID = um2.user_id
    LEFT JOIN {$wpdb->usermeta} um4 ON ( u.ID = um4.user_id AND um4.meta_key LIKE 'wpc_cf_%' )
    WHERE
        um2.meta_key = '{$wpdb->prefix}capabilities'
        AND um2.meta_value LIKE '%s:10:\"wpc_client\";%'
        {$mananger_clients}
        AND u.ID NOT IN ({$excluded_clients})
        {$where_clause}
        {$where_circle}
    "; $items_count = $wpdb->get_var( $sql ); $sql = "SELECT DISTINCT u.ID as id, u.user_login as username, u.user_registered as creation_date, u.display_name as contact_name, u.user_email as email, um.meta_value as business_name, um3.meta_value as time_resend
    FROM {$wpdb->users} u
    LEFT JOIN {$wpdb->usermeta} um ON ( u.ID = um.user_id AND um.meta_key = 'wpc_cl_business_name' )
    LEFT JOIN {$wpdb->usermeta} um2 ON ( u.ID = um2.user_id AND um2.meta_key = '{$wpdb->prefix}capabilities' )
    LEFT JOIN {$wpdb->usermeta} um3 ON ( u.ID = um3.user_id AND um3.meta_key = 'wpc_send_welcome_email' )
    LEFT JOIN {$wpdb->usermeta} um4 ON ( u.ID = um4.user_id AND um4.meta_key LIKE 'wpc_cf_%' )
    {$left_join_for_order_cf}
    WHERE
       um2.meta_value LIKE '%s:10:\"wpc_client\";%'
        {$mananger_clients}
        AND u.ID NOT IN ({$excluded_clients})

        {$where_clause}
        {$where_circle}
    ORDER BY $order_by $order
    LIMIT " . ( $per_page * ( $paged - 1 ) ) . ", $per_page"; $users = $wpdb->get_results( $sql, ARRAY_A ); $user_ids = array(); foreach( $users as $user ) { $user_ids[] = $user['id']; } $all_custom_fields = array_keys( $custom_fields ); $users_custom_fields = $wpdb->get_results("SELECT user_id as id, meta_key as k, meta_value as val FROM {$wpdb->usermeta} WHERE user_id IN ('" . implode( "','", $user_ids ) . "') AND meta_key IN ('" . implode( "','", $all_custom_fields ) . "')", ARRAY_A ); $new_array_cf = array(); foreach( $users_custom_fields as $cf ) { $new_array_cf[ $cf['id'] ][ $cf['k'] ] = $cf['val'] ; } foreach( $users as $key => $user ) { foreach( $all_custom_fields as $name_cf ) { switch( $custom_fields[ $name_cf ]['type'] ) { case 'cost': if( !empty( $new_array_cf[ $user['id'] ][ $name_cf ] ) && is_serialized( $new_array_cf[ $user['id'] ][ $name_cf ] ) ) { $array = unserialize( $new_array_cf[ $user['id'] ][ $name_cf ] ); $users[ $key ][ $name_cf ] = $this->cc_get_price_string( !empty( $array[0] ) ? $array[0] : 0, !empty( $array[1] ) ? $array[1] : '' ); } else { $users[ $key ][ $name_cf ] = ''; } break; case 'datepicker': $users[ $key ][ $name_cf ] = !empty( $new_array_cf[ $user['id'] ][ $name_cf ] ) ? $this->cc_date_format( $new_array_cf[ $user['id'] ][ $name_cf ], 'date' ) : '' ; break; default: $users[ $key ][ $name_cf ] = ( isset( $new_array_cf[ $user['id'] ][ $name_cf ] ) ) ? $new_array_cf[ $user['id'] ][ $name_cf ] : '' ; break; } if( $custom_fields[ $name_cf ]['type'] == 'cost' ) { } else { } } } $ListTable->prepare_items(); $ListTable->items = $users; $ListTable->wpc_set_pagination_args( array( 'total_items' => $items_count, 'per_page' => $per_page ) ); if ( isset($_REQUEST['_wp_http_referer']) ) { $redirect = remove_query_arg(array('_wp_http_referer' ), stripslashes_deep( $_REQUEST['_wp_http_referer'] ) ); } else { $redirect = get_admin_url(). 'admin.php?page=wpclient_clients'; } switch ( $ListTable->current_action() ) { case 'archive': $clients_id = array(); if ( isset( $_REQUEST['id'] ) ) { check_admin_referer( 'wpc_client_archive' . $_REQUEST['id'] . get_current_user_id() ); $clients_id = ( is_array( $_REQUEST['id'] ) ) ? $_REQUEST['id'] : (array) $_REQUEST['id']; } elseif( isset( $_REQUEST['item'] ) ) { check_admin_referer( 'bulk-' . sanitize_key( $this->custom_titles['client']['p'] ) ); $clients_id = $_REQUEST['item']; } if ( count( $clients_id ) && ( current_user_can( 'wpc_archive_clients' ) || current_user_can( 'wpc_admin' ) || current_user_can( 'administrator' ) ) ) { foreach ( $clients_id as $client_id ) { $this->archive_client( $client_id ); } do_action( 'wp_client_redirect', add_query_arg( 'msg', 't', $redirect ) ); exit; } do_action( 'wp_client_redirect', $redirect ); exit; break; case 'send_welcome': $clients_id = array(); if ( isset( $_REQUEST['user_id'] ) ) { check_admin_referer( 'wpc_re_send_welcome' . $_REQUEST['user_id'] . get_current_user_id() ); $clients_id = ( is_array( $_REQUEST['user_id'] ) ) ? $_REQUEST['user_id'] : (array) $_REQUEST['user_id']; } elseif( isset( $_REQUEST['item'] ) ) { check_admin_referer( 'bulk-' . sanitize_key( $this->custom_titles['client']['p'] ) ); $clients_id = $_REQUEST['item']; } set_time_limit(0); if ( count( $clients_id ) ) { foreach ( $clients_id as $client_id ) { $this->resend_welcome_email( $client_id ); } do_action( 'wp_client_redirect', add_query_arg( 'msg', 'wel', $redirect ) ); exit; } do_action( 'wp_client_redirect', $redirect ); exit; break; case 'verify_email': $user_id = isset( $_GET['user_id'] ) ? (int)$_GET['user_id'] : 0; if ( 0 < $user_id ) { check_admin_referer( 'client_email_verify' . $user_id . get_current_user_id() ); delete_user_meta( $user_id, 'verify_email_key' ); do_action( 'wp_client_redirect', add_query_arg( 'msg', 'ver', $redirect ) ); exit; } else { do_action( 'wp_client_redirect', $redirect ); exit; } break; case 'temp_password': $clients_id = array(); if ( isset( $_REQUEST['id'] ) ) { check_admin_referer( 'client_temp_password' . $_REQUEST['id'] . get_current_user_id() ); $clients_id = ( is_array( $_REQUEST['id'] ) ) ? $_REQUEST['id'] : (array)$_REQUEST['id']; } elseif( isset( $_REQUEST['item'] ) ) { check_admin_referer( 'bulk-' . sanitize_key( $this->custom_titles['client']['p'] ) ); $clients_id = $_REQUEST['item']; } foreach ( $clients_id as $client_id ) { $this->set_temp_password( $client_id ); } if( 1 < count( $clients_id ) ) { do_action( 'wp_client_redirect', add_query_arg( 'msg', 'pass_s', $redirect ) ); } else if( 1 === count( $clients_id ) ) { do_action( 'wp_client_redirect', add_query_arg( 'msg', 'pass', $redirect ) ); } else { do_action( 'wp_client_redirect', $redirect ); } exit; case 'delete_permanently': $clients_id = array(); if ( isset( $_REQUEST['id'] ) ) { check_admin_referer( 'wpc_client_archive' . $_REQUEST['id'] . get_current_user_id() ); $clients_id = ( is_array( $_REQUEST['id'] ) ) ? $_REQUEST['id'] : (array) $_REQUEST['id']; } elseif( isset( $_REQUEST['item'] ) ) { check_admin_referer( 'bulk-' . sanitize_key( $this->custom_titles['client']['p'] ) ); $clients_id = $_REQUEST['item']; } if ( count( $clients_id ) && ( current_user_can( 'wpc_delete_clients' ) || current_user_can( 'wpc_admin' ) || current_user_can( 'administrator' ) ) ) { foreach ( $clients_id as $client_id ) { if( is_multisite() ) { wpmu_delete_user( $client_id ); } else { wp_delete_user( $client_id ); } } if( 1 == count( $clients_id ) ) do_action( 'wp_client_redirect', add_query_arg( 'msg', 'd', $redirect ) ); else do_action( 'wp_client_redirect', add_query_arg( 'msg', 'ds', $redirect ) ); exit; } do_action( 'wp_client_redirect', $redirect ); exit; break; default: if ( !empty( $_GET['_wp_http_referer'] ) ) { do_action( 'wp_client_redirect', remove_query_arg( array( '_wp_http_referer', '_wpnonce'), stripslashes_deep( $_SERVER['REQUEST_URI'] ) ) ); exit; } break; } $code = md5( 'wpc_client_' . get_current_user_id() . '_send_mess' ); ?>

<script type="text/javascript">
    jQuery(document).ready( function() {

        jQuery( '#wpc_import' ).shutter_box({
            view_type       : 'lightbox',
            width           : '600px',
            type            : 'inline',
            href            : '#import_form',
            title           : '<?php echo esc_js( sprintf( __( 'Import %s from CSV File', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['p'] ) ); ?>'
        });

        var user_id = 0;
        var nonce = '';

        jQuery('#wpc_clients_list_form').submit(function() {
            if( jQuery('select[name="action"]').val() == 'delete_permanently' || jQuery('select[name="action2"]').val() == 'delete_permanently' ) {
                user_id = new Array();
                jQuery("input[name^=item]:checked").each(function() {
                    user_id.push( jQuery(this).val() );
                });
                nonce = jQuery('input[name=_wpnonce]').val();

                if( user_id.length ) {
                    jQuery('#wpc_clients_list_form').shutter_box({
                        view_type       : 'lightbox',
                        width           : '500px',
                        type            : 'ajax',
                        dataType        : 'json',
                        href            : '<?php echo get_admin_url() ?>admin-ajax.php',
                        ajax_data       : "action=wpc_get_user_list&exclude=" + user_id.join(','),
                        setAjaxResponse : function( data ) {
                            jQuery( '.sb_lightbox_content_title' ).html( data.title );
                            jQuery( '.sb_lightbox_content_body' ).html( data.content );
                        },
                        self_init       : false
                    });

                    jQuery('#wpc_clients_list_form').shutter_box('show');
                }

                bulk_action_runned = true;
                return false;
            }
        });

        jQuery(document).on('click', '.cancel_delete_button', function() {
            jQuery('#wpc_clients_list_form').shutter_box('close');
            user_id = 0;
            nonce = '';
        });

        jQuery(document).on('click', '.delete_user_button', function() {
            if( user_id instanceof Array ) {
                if( user_id.length ) {
                    var item_string = '';
                    user_id.forEach(function( item, key ) {
                        item_string += '&item[]=' + item;
                    });
                    window.location = '<?php echo admin_url(); ?>admin.php?page=wpclient_clients&action=delete_permanently' + item_string + '&_wpnonce=' + nonce + '&' + jQuery('#delete_user_settings').serialize() + '&_wp_http_referer=' + jQuery('input[name=_wp_http_referer]').val();
                }
            } else {
                window.location = '<?php echo admin_url(); ?>admin.php?page=wpclient_clients&action=delete_permanently&id=' + user_id + '&_wpnonce=' + nonce + '&' + jQuery('#delete_user_settings').serialize() + '&_wp_http_referer=<?php echo urlencode( stripslashes_deep( $_SERVER['REQUEST_URI'] ) ); ?>';
            }
            jQuery('#wpc_clients_list_form').shutter_box('close');
            user_id = 0;
            nonce = '';
            return false;
        });

        var hide_column = new Array();
        hide_column = jQuery.parseJSON( '<?php echo ( isset( $hide_column ) ) ? json_encode( $hide_column ) : '[]' ; ?>' ) ;

        jQuery.each( hide_column, function( index, value ) {
            if( '' != value )
                jQuery( '.column-' + value ).addClass( 'hidden' );
        });

        //remove extra fields before submit form
        jQuery( '#wpc_clients_list_form' ).submit( function() {
            jQuery( '.change_circles' ).remove();
            return true;
        });


        //filter group
        jQuery( '#button_filter_circle' ).click( function() {
            if ( '-1' != jQuery( '#circle' ).val() ) {
                var req_uri = "<?php echo preg_replace( '/&circle=[0-9]+|&msg=[^&]+/', '', $_SERVER['REQUEST_URI'] ); ?>";
                window.location = req_uri + '&circle=' + jQuery( '#circle' ).val();
            }
            return false;
        });


        jQuery( '#cancel_filter' ).click( function() {
            var req_uri = "<?php echo preg_replace( '/&circle=[0-9]+|&msg=[^&]+/', '', $_SERVER['REQUEST_URI'] ); ?>";
            window.location = req_uri;
            return false;
        });


        <?php if ( current_user_can( 'wpc_view_client_details' ) || current_user_can( 'wpc_admin' ) || current_user_can( 'administrator' ) ) { ?>
            //open view client
            jQuery('.various').each( function() {
                var id = jQuery( this ).attr( 'rel' );

                jQuery(this).shutter_box({
                    view_type       : 'lightbox',
                    width           : '500px',
                    type            : 'ajax',
                    dataType        : 'json',
                    href            : '<?php echo get_admin_url() ?>admin-ajax.php',
                    ajax_data       : "action=wpc_view_client&id=" + id,
                    setAjaxResponse : function( data ) {
                        jQuery( '.sb_lightbox_content_title' ).html( data.title );
                        jQuery( '.sb_lightbox_content_body' ).html( data.content );
                    }
                });
            });
        <?php } ?>


        <?php if ( current_user_can( 'wpc_update_client_internal_notes' ) || current_user_can( 'wpc_view_client_internal_notes' ) || current_user_can( 'wpc_admin' ) || current_user_can( 'administrator' ) ) { ?>
            //open view Internal Notes
            jQuery('.various_notes').each( function() {
                var id = jQuery( this ).attr( 'rel' );

                jQuery(this).shutter_box({
                    view_type       : 'lightbox',
                    width           : '500px',
                    height          : '310px',
                    type            : 'ajax',
                    dataType        : 'json',
                    href            : '<?php echo get_admin_url() ?>admin-ajax.php',
                    ajax_data       : "action=wpc_get_client_internal_notes&id=" + id,
                    setAjaxResponse : function( data ) {
                        jQuery( '.sb_lightbox_content_title' ).html( data.title );
                        jQuery( '.sb_lightbox_content_body' ).html( data.content );
                    }
                });
            });
        <?php } ?>


        <?php if ( current_user_can( 'wpc_update_client_internal_notes' ) || current_user_can( 'wpc_admin' ) || current_user_can( 'administrator' ) ) { ?>
            // AJAX - Update Internal Notes
            jQuery('body').on('click', '#update_internal_notes', function() {
                var id              = jQuery( '#wpc_client_id' ).val();
                var content         = jQuery( '#wpc_internal_notes' ).val();
                var crypt_content   = jQuery.base64Encode( content );
                crypt_content       = crypt_content.replace( /\+/g, "-" );

                var notice = jQuery( '.wpc_ajax_result' );

                notice.html( '<div class="wpc_ajax_loading"></div>' ).show();
                jQuery( 'body' ).css( 'cursor', 'wait' );
                jQuery.ajax({
                    type: 'POST',
                    url: '<?php echo get_admin_url() ?>admin-ajax.php',
                    data: 'action=wpc_update_client_internal_notes&id=' + id + '&notes=' + crypt_content,
                    dataType: "json",
                    success: function( data ){
                        jQuery( 'body' ).css( 'cursor', 'default' );

                        if( data.status ) {
                            notice.css( 'color', 'green' );
                        } else {
                            notice.css( 'color', 'red' );
                        }

                        notice.html( data.message );
                        setTimeout( function() {
                            notice.fadeOut(1500);
                        }, 2500 );
                    },
                    error: function( data ) {
                        jQuery( 'body' ).css( 'cursor', 'default' );

                        notice.css( 'color', 'red' ).html( '<?php echo esc_js( __( 'Unknown error.', WPC_CLIENT_TEXT_DOMAIN ) ) ?>' );
                        setTimeout( function() {
                            notice.fadeOut( 1500 );
                        }, 2500 );
                    }
                });

            });
        <?php } ?>


        //display client capabilities
        jQuery('.various_capabilities').each( function() {
            var id = jQuery( this ).data( 'id' );

            jQuery(this).shutter_box({
                view_type       : 'lightbox',
                width           : '300px',
                type            : 'ajax',
                dataType        : 'json',
                href            : '<?php echo get_admin_url() ?>admin-ajax.php',
                ajax_data       : "action=wpc_get_user_capabilities&id=" + id + "&wpc_role=wpc_client",
                setAjaxResponse : function( data ) {
                    jQuery( '.sb_lightbox_content_title' ).html( data.title );
                    jQuery( '.sb_lightbox_content_body' ).html( data.content );
                }
            });
        });


        // AJAX - Update Capabilities
        jQuery('body').on('click', '#update_wpc_capabilities', function () {
            var id = jQuery('#wpc_capability_id').val();
            var caps = {};

            jQuery('#wpc_all_capabilities input').each(function () {
                if ( jQuery(this).is(':checked') )
                    caps[jQuery(this).attr('name')] = jQuery(this).val();
                else
                    caps[jQuery(this).attr('name')] = '';
            });

            var notice = jQuery( '.wpc_ajax_result' );

            notice.html('<div class="wpc_ajax_loading"></div>').show();
            jQuery( 'body' ).css( 'cursor', 'wait' );
            jQuery.ajax({
                type: 'POST',
                url: '<?php echo get_admin_url() ?>admin-ajax.php',
                data: 'action=wpc_update_capabilities&id=' + id + '&wpc_role=wpc_client&capabilities=' + JSON.stringify(caps),
                dataType: "json",
                success: function (data) {
                    jQuery('body').css('cursor', 'default');

                    if (data.status) {
                        notice.css('color', 'green');
                    } else {
                        notice.css('color', 'red');
                    }
                    notice.html(data.message);
                    setTimeout(function () {
                        notice.fadeOut(1500);
                    }, 2500);

                },
                error: function (data) {
                    notice.css('color', 'red').html('<?php echo esc_js( __( 'Unknown error.', WPC_CLIENT_TEXT_DOMAIN ) ) ?>');
                    setTimeout(function () {
                        notice.fadeOut(1500);
                    }, 2500);
                }
            });
        });

    });

    function checkform(){
        if(document.getElementById('file').value == ""){
            alert("<?php echo esc_js( __( 'Please select a valid csv file to import.', WPC_CLIENT_TEXT_DOMAIN ) ) ?>");
            return false;
        }
        return true;
    }


</script>

<style>
    #import_form table td {
        text-align: left;
    }
</style>

<div class="wrap">
    <?php echo $this->get_plugin_logo_block() ?>

    <div class="wpc_clear"></div>
    <?php
 if ( isset( $_GET['msg'] ) ) { switch( $_GET['msg'] ) { case 'a': echo '<div id="message" class="updated wpc_notice fade"><p>' . sprintf( __( '%s <strong>Added</strong> Successfully.', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['s'] ) . '</p></div>'; break; case 'wel': echo '<div id="message" class="updated wpc_notice fade"><p>' . sprintf( __( 'Re-Sent Email for %s.', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['s'] ) . '</p></div>'; break; case 'ver': echo '<div id="message" class="updated wpc_notice fade"><p>' . sprintf( __( 'Approved Email for %s.', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['s'] ) . '</p></div>'; break; case 'pass': echo '<div id="message" class="updated wpc_notice fade"><p>' . sprintf( __( 'The password marked as temporary for %s.', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['s'] ) . '</p></div>'; break; case 'pass_s': echo '<div id="message" class="updated wpc_notice fade"><p>' . sprintf( __( 'The passwords marked as temporary for %s.', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['p'] ) . '</p></div>'; break; case 'd': echo '<div id="message" class="updated wpc_notice fade"><p>' . sprintf( __( '%s <strong>Deleted</strong> Successfully.', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['s'] ) . '</p></div>'; break; case 'ds': echo '<div id="message" class="updated wpc_notice fade"><p>' . sprintf( __( '%s <strong>Deleted</strong> Successfully.', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['p'] ) . '</p></div>'; break; case 'u': echo '<div id="message" class="updated wpc_notice fade"><p>' . sprintf( __( '%s <strong>Updated</strong> Successfully.', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['s'] ) . '</p></div>'; break; case 't': echo '<div id="message" class="updated wpc_notice fade"><p>' . sprintf( __( '%s <strong>Moved to the Archive</strong>.', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['s'] ) . '</p></div>'; break; case 'ci': echo '<div id="message" class="updated wpc_notice fade"><p>' . ( ( isset( $_GET['cl_count'] ) ) ? $_GET['cl_count'] . ' ' : '0 ') . sprintf( __( '%s are <strong>Imported or Updated</strong>.', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['p'] ) . '</p></div>'; break; case 'uf': echo '<div id="message" class="error wpc_notice fade"><p>' . __( 'There was an error uploading the file, please try again!', WPC_CLIENT_TEXT_DOMAIN ) . '</p></div>'; break; case 'id': echo '<div id="message" class="error wpc_notice fade"><p>' . sprintf( __( 'Wrong %s ID.', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['s'] ) . '</p></div>'; break; } } ?>

    <div id="wpc_container">
        <?php echo $this->gen_tabs_menu( 'clients' ) ?>

        <div class="wpc_clear"></div>
        <div class="wpc_tab_container_block">
            <?php if ( current_user_can( 'wpc_add_clients' ) || current_user_can( 'wpc_admin' ) || current_user_can( 'administrator' ) ) { ?>
                <a class="add-new-h2 wpc_form_link" href="?page=wpclient_clients&tab=add_client"><?php _e( 'Add New', WPC_CLIENT_TEXT_DOMAIN ) ?></a>
            <?php } ?>
            <?php if ( current_user_can( 'wpc_admin' ) || current_user_can( 'administrator' ) ) { ?>
                <a class="add-new-h2 wpc_form_link" id="wpc_import"><?php _e( 'Import', WPC_CLIENT_TEXT_DOMAIN ) ?></a>
            <?php } ?>

            <?php if ( current_user_can( 'wpc_admin' ) || current_user_can( 'administrator' ) ) { ?>
                <div id="import_form">
                    <form action="?page=wpclient_clients" id="wpc_clients_form" method="post" enctype="multipart/form-data">
                        <div style="float:left;">
                            <table style="width: 100%;float: left;">
                                <tr style="line-height: 30px;">
                                    <td style="width: 250px;">
                                        <label for="file"><?php _e( 'Import CSV List' , WPC_CLIENT_TEXT_DOMAIN ) ?>:</label>
                                    </td>
                                    <td style="padding: 0;"><input type="file" name="file" id="file" accept=".csv" /></td>
                                </tr>
                                <tr style="line-height: 30px;">
                                    <td>
                                        <label for="update_exist_clients">
                                            <?php printf( __( 'Update existing %s via import', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['p'] ); ?>:
                                        </label>
                                        <span style="padding: 0 0 0 5px; vertical-align: middle;">
                                            <?php echo $this->tooltip( sprintf(__( 'With this box checked, your existing %s data will be overwritten/updated based on the data in the imported CSV file. Use this to bulk update passwords, emails, etc. Only %s whose usernames match usernames in the CSV will be updated.', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['p'], $this->custom_titles['client']['p'] ) ) ?>
                                        </span>
                                    </td>
                                    <td style="padding: 0;">
                                        <input type="checkbox" name="update_exist_clients" id="update_exist_clients" value="1" />
                                    </td>
                                </tr>
                                <tr style="line-height: 30px;">
                                    <td>
                                        <?php printf( __( '%s %s', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['client']['s'], $this->custom_titles['circle']['p'] ); ?>:
                                    </td>
                                    <td style="padding: 0;">
                                        <?php $link_array = array( 'title' => sprintf( __( 'Assign To %s', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['circle']['p'] ), 'text' => sprintf( __( 'Assign To %s', WPC_CLIENT_TEXT_DOMAIN ), $this->custom_titles['circle']['p'] ) ); $input_array = array( 'name' => 'circles_for_import', 'id' => 'wpc_circles', 'value' => '' ); $additional_array = array( 'counter_value' => 0 ); $current_page = isset( $_GET['page'] ) ? $_GET['page'] : ''; $this->acc_assign_popup('circle', isset( $current_page ) ? $current_page : '', $link_array, $input_array, $additional_array ); ?>
                                    </td>
                                </tr>
                            </table>
                            <div class="save_button">
                                <input type="submit" class='button-primary' name="import" value="Import !" onclick="return checkform();" />
                            </div>
                        </div>
                    </form>
                </div>
            <?php } ?>

            <form action="" method="get" name="wpc_clients_list_form" id="wpc_clients_list_form" style="width: 100%;">
                <input type="hidden" name="page" value="wpclient_clients" />
                <?php $ListTable->display(); ?>
            </form>
        </div>
    </div>
</div>